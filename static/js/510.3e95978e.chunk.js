"use strict";(self.webpackChunkimonitor=self.webpackChunkimonitor||[]).push([[510],{61510:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var s=r(74165),n=r(15861),a=r(29439),c=r(72791),i=r(43621),o=r(72426),l=r.n(o),u=r(78820),d=r(80184);var m=function(e){var t=e.admin;function r(){return(r=(0,n.Z)((0,s.Z)().mark((function e(){var r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("active"!==t.status){e.next=8;break}return e.next=3,i.Z.from("AdminAccount").update({status:"deactivate"}).eq("id",t.id).select();case 3:r=e.sent,r.data,r.error,e.next=13;break;case 8:return e.next=10,i.Z.from("AdminAccount").update({status:"active"}).eq("id",t.id).select();case 10:n=e.sent,n.data,n.error;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)("div",{className:"grid grid-cols-4 w-[100%] p-1 bg-slate-200 hover:bg-blue-200 cursor-pointer",children:[(0,d.jsx)("label",{className:"cursor-pointer flex items-center justify-center",children:t.username}),(0,d.jsx)("label",{className:"cursor-pointer flex items-center justify-center",children:l()(t.created_at).format("ll")}),(0,d.jsx)("label",{className:"".concat("active"===t.status?"text-green-700 cursor-pointer flex items-center justify-center":"text-red-500 cursor-pointer flex items-center justify-center"),children:t.status.toUpperCase()}),"admin"===t.username?"":(0,d.jsx)("a",{onClick:function(){return function(){return r.apply(this,arguments)}()},className:"cursor-pointer flex items-center justify-center",children:"active"===t.status?(0,d.jsx)(u.cq1,{className:"hover:text-red-500 text-red-500 bg-white rounded-full hover:shadow-md hover:shadow-black"}):(0,d.jsx)(u.mny,{className:"hover:text-green-100 text-white bg-green-500 rounded-full hover:shadow-md hover:shadow-black"})})]},t.id)},x=r(75985);var p=function(){var e=(0,c.useState)(),t=(0,a.Z)(e,2),r=t[0],o=t[1],l=(0,c.useState)(),u=(0,a.Z)(l,2),p=u[0],h=u[1],f=(0,c.useState)(),b=(0,a.Z)(f,2),v=b[0],g=b[1],j=(0,c.useState)(),w=(0,a.Z)(j,2),N=w[0],y=w[1],C=(0,c.useState)(),k=(0,a.Z)(C,2),A=k[0],Z=k[1];function E(){return S.apply(this,arguments)}function S(){return(S=(0,n.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.from("AdminAccount").select("*");case 2:t=e.sent,r=t.data,o(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){E();i.Z.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"AdminAccount"},(function(e){E()})).subscribe()}),[]);var P=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&v&&N){e.next=2;break}return e.abrupt("return");case 2:if(v===N){e.next=5;break}return x.Am.warn("Password doesn't match",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 5:t=0;case 6:if(!(t<r.length)){e.next=13;break}if(r[t].username!==p){e.next=10;break}return Z("Please use another username"),e.abrupt("return");case 10:t++,e.next=6;break;case 13:return e.next=15,i.Z.from("AdminAccount").insert([{username:p,password:N,status:"active"}]);case 15:n=e.sent,n.data,x.Am.success("Created Successfully!",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),h(""),g(""),y("");case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:" w-[100%] h-screen ",children:(0,d.jsxs)("div",{className:" w-[100%] h-[90%] gap-2 gap-y-10 grid grid-cols-1 md:grid-cols-2 md:p-10 p-1 place-content-center items-center overflow-auto  pt-[23%]",children:[(0,d.jsxs)("div",{className:"w-[100%]  h-[100%]  bg-[#94b8d8]  rounded-md",children:[(0,d.jsx)("div",{className:"bg-[#274472] flex justify-center font-bold  text-[25px] p-1  rounded-t-md mb-2 text-white",children:"CREATE ADMIN ACCOUNT"}),(0,d.jsxs)("form",{onSubmit:function(){return P()},className:"p-2 h-[75.5%] pt-[1%] ",children:[(0,d.jsxs)("div",{className:"flex-col gap-2 mb-2",children:[(0,d.jsxs)("label",{className:"text-[18px] font-semibold",children:["UserName:"," ",(0,d.jsx)("em",{className:"text-[14px] text-red-500",children:A})]}),(0,d.jsx)("input",{value:p,type:"text",onChange:function(e){return function(e){h(e.target.value)}(e)},required:!0,placeholder:"Enter UserName",className:"bg-slate-200 w-[100%] p-1 rounded-md"})]}),(0,d.jsxs)("div",{className:"flex-col gap-2 mb-2 ",children:[(0,d.jsx)("label",{className:"text-[18px] font-semibold",children:"Password: "}),(0,d.jsx)("input",{value:v,type:"password",required:!0,onChange:function(e){return g(e.target.value)},placeholder:"Enter Password",className:"bg-slate-200 w-[100%] p-1 rounded-md"})]}),(0,d.jsxs)("div",{className:"flex-col gap-2 mb-2",children:[(0,d.jsx)("label",{className:"text-[18px] font-semibold",children:"Confirm Password:"}),(0,d.jsx)("input",{value:N,type:"Password",required:!0,onChange:function(e){return y(e.target.value)},placeholder:"Re-Enter Password",className:"bg-slate-200 w-[100%] p-1 rounded-md"})]}),(0,d.jsx)("button",{className:"bg-[#274472] hover:bg-[#3971a5] w-[100%] p-2 bottom-0 rounded-b-md font-semibold text-white",children:"CREATE"})]})]}),(0,d.jsxs)("div",{className:"w-[100%] h-[100%] bg-[#94b8d8] rounded-md flex-col ",children:[(0,d.jsx)("div",{className:" bg-[#274472] text-white flex justify-center font-bold  text-[25px] p-1  rounded-t-md mb-2",children:"CREATED ADMIN ACCOUNT'S"}),(0,d.jsxs)("div",{className:"grid grid-cols-4 p-1 font-semibold text-[17px] ",children:[(0,d.jsx)("label",{className:"cursor-pointer flex items-center justify-center",children:"UserName"}),(0,d.jsxs)("label",{className:"cursor-pointer flex items-center justify-center",children:[" ","Created Date"]}),(0,d.jsx)("label",{className:"cursor-pointer flex items-center justify-center",children:"Status"}),(0,d.jsx)("label",{className:"cursor-pointer flex items-center justify-center",children:"Edit Status"})]}),r?(0,d.jsx)("div",{className:"h-[295px] overflow-auto",children:r.sort((function(e,t){return e.status<=t.status?-1:1})).map((function(e){return(0,d.jsx)(m,{admin:e},e.id)}))}):(0,d.jsx)("div",{className:"flex place-content-center items-center h-[295px]  font-bold underline",children:"There is something wrong with the connection"})]})]})})})}}}]);
//# sourceMappingURL=510.3e95978e.chunk.js.map