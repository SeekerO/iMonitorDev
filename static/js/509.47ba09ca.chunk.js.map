{"version":3,"file":"static/js/509.47ba09ca.chunk.js","mappings":"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","sources":["components/Auth.jsx"],"sourcesContent":["import React from \"react\";\nimport supabase from \"./iMonitorDBconfig\";\n\nexport const Auth = async (\n  token,\n  user,\n  beneChecker,\n  studChecker,\n  remove,\n  setUserName,\n  greetings,\n  beneInfoGetter,\n  studInfoGetter,\n  setEmail\n) => {\n  const { data: bene } = await supabase.from(\"BeneAccount\").select();\n  var check = false;\n  var deactivated = false;\n  if (bene) {\n    for (let index = 0; index < bene.length; index++) {\n      if (user.username === bene[index].beneEmail) {\n        if (bene[index].status === \"active\") {\n          if (\n            window.localStorage.getItem(\"token\") === bene[index].accessToken\n          ) {\n            passTokenBene();\n            beneChecker(true);\n            remove();\n\n            check = true;\n            setUserName(bene[index].beneName);\n          } else {\n            passTokenBene();\n            beneChecker(true);\n            remove();\n\n            check = true;\n            setUserName(bene[index].beneName);\n          }\n          if (bene[index].accessToken === null) {\n            passTokenBene();\n            beneChecker(true);\n            remove();\n\n            check = true;\n            setUserName(bene[index].beneName);\n          }\n          beneInfoGetter();\n        } else {\n          deactivated = true;\n        }\n      }\n    }\n  }\n\n  const { data: stud } = await supabase.from(\"StudentInformation\").select();\n  if (stud) {\n    for (let index = 0; index < stud.length; index++) {\n      if (user.username === stud[index].studemail) {\n        studInfoGetter();\n        if (window.localStorage.getItem(\"token\") === stud[index].accessToken) {\n          passTokenStud();\n          studChecker(true);\n          remove();\n\n          check = true;\n          setUserName(stud[index].studname);\n        } else if (stud[index].accessToken === null) {\n          passTokenStud();\n          studChecker(true);\n          remove();\n\n          check = true;\n          setUserName(stud[index].studname);\n        } else {\n          passTokenStud();\n          studChecker(true);\n          remove();\n\n          check = true;\n          setUserName(stud[index].studname);\n        }\n      }\n    }\n  }\n\n  async function passTokenBene() {\n    const { data: update } = await supabase\n      .from(\"BeneAccount\")\n      .update({ accessToken: token })\n      .eq(\"beneEmail\", user.username)\n      .select();\n\n    const { data: name } = await supabase\n      .from(\"BeneAccount\")\n      .select()\n      .eq(\"beneEmail\", user.username)\n      .single();\n\n    window.localStorage.setItem(\"token\", token);\n  }\n\n  async function passTokenStud() {\n    const { data: update } = await supabase\n      .from(\"StudentInformation\")\n      .update({ accessToken: token })\n      .eq(\"studemail\", user.username)\n      .select();\n\n    const { data: name } = await supabase\n      .from(\"StudentInformation\")\n      .select()\n      .eq(\"studemail\", user.username)\n      .single();\n\n    window.localStorage.setItem(\"token\", token);\n  }\n\n  if (check === true) {\n    await greetings(true, deactivated);\n  } else {\n    await greetings(false, deactivated);\n  }\n};\n"],"names":["Auth","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","token","user","beneChecker","studChecker","remove","setUserName","greetings","beneInfoGetter","studInfoGetter","setEmail","_yield$supabase$from$","bene","check","deactivated","index","_yield$supabase$from$2","stud","_index","passTokenBene","_passTokenBene","passTokenStud","_passTokenStud","wrap","_context3","prev","next","_callee2","_yield$supabase$from$5","_yield$supabase$from$6","_context2","supabase","from","update","accessToken","eq","username","select","sent","data","single","window","localStorage","setItem","stop","apply","arguments","_callee","_yield$supabase$from$3","_yield$supabase$from$4","_context","length","beneEmail","status","getItem","beneName","studemail","studname","_x","_x2","_x3","_x4","_x5","_x6","_x7","_x8","_x9","_x10"],"sourceRoot":""}