"use strict";(self.webpackChunkimonitor=self.webpackChunkimonitor||[]).push([[509],{86509:function(e,n,t){t.r(n),t.d(n,{Auth:function(){return c}});var a=t(74165),r=t(15861),s=(t(72791),t(43621)),c=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n,t,c,o,u,i,m,f,l,d){var p,k,w,Z,h,x,g,b,v,I,S,T;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T=function(){return(T=(0,r.Z)((0,a.Z)().mark((function e(){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.from("StudentInformation").update({accessToken:n}).eq("studemail",t.username).select();case 2:return r=e.sent,r.data,e.next=6,s.Z.from("StudentInformation").select().eq("studemail",t.username).single();case 6:c=e.sent,c.data,window.localStorage.setItem("token",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},S=function(){return T.apply(this,arguments)},I=function(){return(I=(0,r.Z)((0,a.Z)().mark((function e(){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.from("BeneAccount").update({accessToken:n}).eq("beneEmail",t.username).select();case 2:return r=e.sent,r.data,e.next=6,s.Z.from("BeneAccount").select().eq("beneEmail",t.username).single();case 6:c=e.sent,c.data,window.localStorage.setItem("token",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(){return I.apply(this,arguments)},e.next=6,s.Z.from("BeneAccount").select();case 6:if(p=e.sent,k=p.data,w=!1,Z=!1,k)for(h=0;h<k.length;h++)t.username===k[h].beneEmail&&("active"===k[h].status?(window.localStorage.getItem("token"),k[h].accessToken,v(),c(!0),u(),w=!0,i(k[h].beneName),null===k[h].accessToken&&(v(),c(!0),u(),w=!0,i(k[h].beneName)),f()):Z=!0);return e.next=13,s.Z.from("StudentInformation").select();case 13:if(x=e.sent,g=x.data)for(b=0;b<g.length;b++)t.username===g[b].studemail&&(l(),window.localStorage.getItem("token")===g[b].accessToken?(S(),o(!0),u(),w=!0,i(g[b].studname)):(g[b].accessToken,S(),o(!0),u(),w=!0,i(g[b].studname)));if(!0!==w){e.next=21;break}return e.next=19,m(!0,Z);case 19:e.next=23;break;case 21:return e.next=23,m(!1,Z);case 23:case"end":return e.stop()}}),e)})));return function(n,t,a,r,s,c,o,u,i,m){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=509.47ba09ca.chunk.js.map