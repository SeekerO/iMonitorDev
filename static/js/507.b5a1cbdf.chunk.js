"use strict";(self.webpackChunkimonitor=self.webpackChunkimonitor||[]).push([[507],{34507:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var a=s(74165),n=s(15861),l=s(29439),c=s(72791),r=s(43621),i=s(64561),o=s(78820),d=s(39126),m=s(56355),x=s(76998),u=s.n(x),h=s(75985),p=s(80184);function f(e){var t=e.visible,s=e.onClose,x=e.studinfos,f=e.studemail,b=e.displayColor,j=(0,c.useState)([]),N=(0,l.Z)(j,2),v=N[0],g=N[1];(0,c.useEffect)((function(){!function(e){B.apply(this,arguments)}(f),w(f)}),[]);var w=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){var s,n,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.Z.storage.from("StudentUploadedImages").list(t+"/",{sortBy:{column:"name",order:"asc"}});case 3:s=e.sent,n=s.data,(l=s.error)?console.error("Error fetching files:",l):g(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching files:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function y(e){u()(e),h.Am.info("Copied: ".concat(e),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"light"})}var C,S=(0,c.useState)(!1),T=(0,l.Z)(S,2),I=T[0],E=T[1],O=(0,c.useState)(),A=(0,l.Z)(O,2),k=A[0],M=A[1];function B(){return(B=(0,n.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.Z.storage.from("ProfilePic").list(t+"/",{limit:1,offset:0});case 3:s=e.sent,(n=s.data)&&(E(!0),M("https://ouraqybsyczzrrlbvenz.supabase.co/storage/v1/object/public/ProfilePic/".concat(t,"/").concat(n[0].name))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}if(!t)return null;return(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm flex justify-center items-center ",children:(0,p.jsxs)("div",{className:"bg-slate-200 h-[100%] w-[100%]  rounded-xl shadow-black shadow-2xl ","data-aos":"zoom-in","data-aos-duration":"500",children:[(0,p.jsx)("div",{className:"flex justify-end ",children:(0,p.jsx)("button",{onClick:function(){return s(!t)},className:"bg-red-600 w-[10%] h-[30px] rounded-br-none rounded-tr-md font-bold hover:bg-red-400 justify-center items-center flex  text-[20px]",children:(0,p.jsx)(o.oHP,{})})}),(0,p.jsx)("div",{className:" rounded-xl m-[1%] h-[90%] text-black",children:(0,p.jsxs)("form",{className:" p-2 z-50 h-[98%]  rounded-xl overflow-y-scroll ",children:[(0,p.jsxs)("div",{className:"flex-col  ",children:[(0,p.jsxs)("div",{className:"flex flex-col justify-center place-content-center items-center mb-10",children:[I?(0,p.jsx)("img",{src:k,className:"h-[200px] w-[200px] rounded-full shadow-md shadow-black"}):(C=x.studname,(0,p.jsx)("div",{style:{background:b},className:"flex text-white text-[50px] items-center justify-center h-[200px]  w-[200px] rounded-full font-thin shadow-md shadow-black",children:"".concat(C.split(" ")[0][0]).concat(C.split(" ")[1][0]," ")})),(0,p.jsx)("label",{className:" mt-4 md:text-lg text-base text-center font-thin text-black capitalize ",children:x.studname}),(0,p.jsx)("label",{className:" mt-2 md:text-lg text-base text-center font-thin text-black ",children:function(e){var t=e.replace(/\([^()]*\)/g,"").trim();return"(".concat(x.studsection,") ")+t}(x.studprogram)}),(0,p.jsx)("label",{className:" mt-2 md:text-lg text-base text-center font-thin text-black ",children:x.studemail})]}),(0,p.jsx)("div",{className:"h-[1px] w-[100%] bg-yellow-500 mb-4"}),(0,p.jsxs)("div",{className:"font-bold md:text-[25px] text-lg mb-3 flex gap-1 items-center",children:[(0,p.jsx)(d.z8x,{className:"text-[25px]"})," STUDENT INFORMATION"]}),(0,p.jsxs)("p",{className:"  md:text-lg text-base",children:["STUDENT PROGRESS: ",x.studprogress," /"," ",x.studmaxprogress]}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 font-thin",children:[(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["FULLNAME: ",x.studname]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["PROGRAM: ",x.studprogram]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["EMAIL: ",x.studemail]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["SECTION: ",x.studsection]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["OJT START: ",x.ojtstart]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["OJT END: ",x.ojtend]})]}),(0,p.jsx)("div",{className:"mt-3 flex",children:(0,p.jsxs)("label",{className:"md:text-lg text-base font-thin",children:["REMARKS:"," ",(0,p.jsx)("p",{className:"text-base",children:void x.remark})]})}),(0,p.jsxs)("p",{className:"font-bold md:text-[25px] text-lg mt-7 flex gap-1 items-center ",children:[(0,p.jsx)(m.m17,{className:"text-[20px]"})," COMPANY INFROMATION"]}),(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 font-thin  ",children:[(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["COMPANY NAME: ",x.companyname]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["COMPANY ADDRESS: ",x.companyaddress]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["SUPERVISOR NAME: ",x.supervisorname]}),(0,p.jsxs)("label",{onClick:function(){return y(x.supervisorcontactnumber)},className:" mt-4 md:text-lg text-base  cursor-pointer",children:["SUPERVISOR CONTACT #:"," ",(0,p.jsx)("label",{className:"hover:text-blue-500 hover:underline cursor-pointer",children:x.supervisorcontactnumber})]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["SUPERVISOR OFFICE #: ",x.supervisorofficenumber]}),(0,p.jsxs)("label",{className:" mt-4 md:text-lg text-base ",children:["COMPANY DESIGNATION: ",x.companydesignation]}),(0,p.jsxs)("label",{onClick:function(){return y(x.companyemail)},className:" mt-4 md:text-lg text-base ",children:["COMPANY EMAIL:"," ",(0,p.jsx)("label",{className:"hover:text-blue-500 hover:underline cursor-pointer",children:x.companyemail})]})]})]}),(0,p.jsxs)("div",{className:"mt-10",children:[(0,p.jsxs)("p",{className:"font-bold md:text-lg text-base flex items-center gap-1",children:[(0,p.jsx)(m.sYB,{className:"text-[20px]"}),"Uploaded image in attendance"]}),(0,p.jsx)("div",{className:"h-[300px]  bg-[#5f7caa]  mr-[1%] rounded-md overflow-y-auto",children:(0,p.jsx)("div",{className:"p-2 grid grid-cols-2",children:v.map((function(e){return(0,p.jsx)("div",{className:"p-2",children:(0,p.jsxs)("div",{className:"w-[100%]",children:[(0,p.jsxs)("div",{className:"flex bg-slate-300 p-1 rounded-t-md",children:["Uploaded: ",(0,p.jsx)(i.Z,{date:e.created_at})," "]}),(0,p.jsx)("div",{className:"p-1 bg-slate-200 rounded-b-md",children:(0,p.jsx)("center",{children:(0,p.jsx)("img",{src:"https://ouraqybsyczzrrlbvenz.supabase.co/storage/v1/object/public/StudentUploadedImages/".concat(f,"/").concat(e.name),className:" w-[50%] h-[300px] "})})})]})},e.id)}))})})]})]})})]})})}var b=function(e){var t=e.studinfo;e.setHide,(0,c.useEffect)((function(){!function(e){C.apply(this,arguments)}(t.studemail)}),[t]);var s="",i=(0,c.useState)(!1),o=(0,l.Z)(i,2),d=o[0],m=o[1];function x(e){var t,a=0;for(t=0;t<e.length;t+=1)a=e.charCodeAt(t)+((a<<5)-a);var n="#";for(a,t=0;t<3;t+=1){n+="00".concat((a>>8*t&255).toString(16)).slice(-2)}return s=n,n}var u,h=(0,c.useState)(!1),b=(0,l.Z)(h,2),j=b[0],N=b[1],v=(0,c.useState)(),g=(0,l.Z)(v,2),w=g[0],y=g[1];function C(){return(C=(0,n.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.Z.storage.from("ProfilePic").list(t+"/",{limit:1,offset:0});case 3:s=e.sent,(n=s.data)&&(N(!0),y("https://ouraqybsyczzrrlbvenz.supabase.co/storage/v1/object/public/ProfilePic/".concat(t,"/").concat(n[0].name))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{onClick:function(){m(!d)},className:"grid grid-cols-2 cursor-pointer hover:bg-[#5885AF] hover:bg-opacity-[80%]  hover:text-blue-100 p-1 rounded-md ",children:[(0,p.jsxs)("div",{className:"flex gap-1 items-center capitalize ",children:[j?(0,p.jsx)("img",{src:w,className:"h-9 w-9 rounded-full"}):(0,p.jsx)(p.Fragment,{children:(u=t.studname,(0,p.jsx)("div",{style:{background:x(u)},className:"flex text-white items-center justify-center h-9  w-9 rounded-full font-thin",children:"".concat(u.toUpperCase().split(" ")[0][0]).concat(u.toUpperCase().split(" ")[1][0]," ")}))}),t.studname]}),(0,p.jsx)("div",{children:t.studsection})]}),(0,p.jsx)(f,{onClose:m,visible:d,studinfos:t,studname:t.studname,studemail:t.studemail,displayColor:s})]})};function j(e){var t=e.visible,s=e.onClose,i=e.companyinfos,x=e.number,u=e.Data,h=e.compName,f=e.ReactTooltip,j=(0,c.useRef)(),N=(0,c.useState)(),v=(0,l.Z)(N,2),g=v[0],w=v[1],y=(0,c.useState)(!1),C=(0,l.Z)(y,2),S=C[0],T=C[1];function I(){return I=(0,n.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.from("StudentInformation").select().eq("companyname",h);case 2:t=e.sent,s=t.data,w(s);case 5:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}(0,c.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[i]);var E=(0,c.useState)(!1),O=(0,l.Z)(E,2),A=O[0],k=O[1];return t?(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm flex justify-center items-center z-50",children:(0,p.jsxs)("div",{ref:j,className:"bg-slate-200 h-[75%] mt-10 md:w-[70%]  w-[100%] rounded-xl shadow-black shadow-2xl  ","data-aos":"zoom-in","data-aos-duration":"200",children:[(0,p.jsx)("div",{className:"flex  justify-end",children:(0,p.jsx)("button",{onClick:s,className:"  w-[10%] h-[30px] rounded-tr-md flex justify-center place-content-center items-center  hover:bg-red-400 bg-red-600",children:(0,p.jsx)(o.oHP,{className:"font-bold text-[20px]"})})}),(0,p.jsxs)("div",{className:" rounded-xl m-[1%] p-2",children:[(0,p.jsxs)("div",{className:"pt-1 md:text-[25px] flex items-center gap-1 text-base font-semibold text-black w-[600px] rounded-md ",children:[(0,p.jsx)(d.RYR,{className:"text-[30px]"})," NUMBER OF STUDENT CURRENTLY IN OJT: ",x]}),(0,p.jsxs)("form",{className:"".concat(S?"hidden":"gap-x-10  grid md:grid-cols-2 grid-cols-1 overflow-y-auto h-[270px] pt-5 slate-200 rounded-xl pl-2 text-black"," font-thin"),children:[(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base",children:["COMPANY NAME: ",i.companyname]}),(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base",children:["COMPANY ADDRESS: ",i.companyaddress]}),(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base",children:["SUPERVISOR NAME: ",i.supervisorname]}),(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base",children:["SUPERVISOR CONTACT #: ",i.supervisorcontactnumber]}),(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base",children:["SUPERVISOR OFFICER #: ",i.supervisorofficenumber]}),(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base",children:["COMPANY DESIGNATION: ",i.companydesignation]}),(0,p.jsxs)("label",{className:" mt-2 md:text-lg text-base  mb-[20px]",children:["COMPANY EMAIL: ",i.companyemail]})]}),(0,p.jsxs)("a",{onClick:function(){return T(!S)},className:"font-semibold text-black flex items-center gap-1 hover:text-blue-500 rounded-md w-full mb-2 text-[20px] cursor-pointer",children:[(0,p.jsx)(m.AeW,{})," STUDENT INFORMATION (Current Enrolled)"]}),!A&&(0,p.jsx)("div",{className:"".concat(S?"h-[400px] transition-all duration-300 ":"h-[150px] "," overflow-auto bg-[#5f7caa] text-black p-1 rounded-md"),children:(0,p.jsxs)("div",{className:"pl-2",children:[(0,p.jsxs)("div",{className:"grid grid-cols-2 ",children:[(0,p.jsx)("div",{className:"font-semibold text-[19px] ",children:"Student Name"}),(0,p.jsx)("div",{className:"font-semibold text-[19px] ",children:"Student Section"})]}),g.map((function(e){return(0,p.jsx)(b,{studinfo:e,Data:u,setHide:k,ReactTooltip:f},e.id)}))]})})]})]})}):null}var N=s(20216),v=s(67945),g=s.n(v),w=(s(24655),function(e){var t=e.companyinfos,s=e.Data;(0,c.useEffect)((function(){g().init({duration:1e3})}),[]);var a=(0,c.useState)(!1),n=(0,l.Z)(a,2),r=n[0],i=n[1];return(0,p.jsxs)("div",{className:"company.info-data ",children:[(0,p.jsx)("div",{className:" grid gap-4 mt-[0.5%] hover:translate-x-4 duration-500 hover:shadow-lg cursor-pointer ",children:(0,p.jsxs)("div",{onClick:function(){return i(!0)},className:"bg-slate-200 p-3 text-black flex font-medium rounded ",children:[(0,p.jsx)("div",{className:"w-[30%]",children:(0,p.jsx)("a",{"data-tooltip-id":"View",className:"pl-[2%]  w-fit ",children:t.companyname})}),(0,p.jsx)("div",{className:"pl-[2%]  w-[39%]  md:text-base text-sm",children:t.companyaddress}),(0,p.jsxs)("div",{className:"pl-[2%]  w-[30%] md:pr-0 pr-2 md:text-base text-sm",children:["NUMBER OF STUDENT ENTERED OJT: ",t.companyOJT]})]})}),(0,p.jsx)(j,{onClose:function(){return i(!1)},visible:r,companyinfos:t,number:t.companyOJT,compName:t.companyname,Data:s}),(0,p.jsx)(N.u,{id:"View",place:"right",variant:"info",content:"View Information"})]})}),y=s(26249),C=s(1640),S=s(96048),T=s.n(S),I=s(59225),E=s(48847),O=s(16856),A=s(48329),k=s(61146),M=s.n(k),B=s(64324);function R(e){var t=e.data,s=e.analytics,a=e.avg,n=e.testRef,l=(0,c.useRef)(null);(0,c.useEffect)((function(){r()}),[t]);var r=function(){var e=function(e,t,s){var a=Math.round(t/e*100),n=Math.round(s/e*100);return(0,p.jsxs)("div",{className:"flex text-center gap-2 justify-center",children:[(0,p.jsx)("div",{className:"flex  gap-1 text-[15px] ",children:(0,p.jsxs)("p",{children:["The average number of student who completed their on-the-job training in this company is"," ",(0,p.jsx)("em",{className:"text-green-500 font-bold  italic",children:"".concat(a>=-0?"".concat(a,"%"):"No Data")})]})}),(0,p.jsx)("div",{className:"flex text-[15px] ",children:(0,p.jsxs)("p",{children:["The average number of student who didn't complete their on-the-job training in this"," ",(0,p.jsx)("em",{className:"text-red-700 font-bold italic",children:"".concat(n>=-0?"".concat(n,"%"):"No Data")})]})}),"."]})};return(0,p.jsxs)("div",{ref:l,className:"mt-2  h-screen",children:[s&&(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("div",{className:" md:w-[100%]  w-[99%]  h-[33%] md:flex grid place-content-center items-center  inset-0  text-black rounded-md ",children:(0,p.jsxs)("div",{className:" h-[100%] flex items-center ",children:[(0,p.jsxs)("div",{className:"flex-col mb-2",children:[(0,p.jsx)("p",{className:"flex-col flex text-center font-senibold text-lg text-black",children:s.length>=2&&"Top 3 Companies"}),(0,p.jsx)(I.PieChart,{data:s.map((function(e){return{title:e.companyname,value:e.companyOJT,color:e.color}})),className:" md:w-[200px] w-[150px] "})]}),(0,p.jsx)("div",{className:" ml-10 gap-5  text-black justify-start flex items-center ",children:(0,p.jsx)(p.Fragment,{children:s.map((function(e,t){return(0,p.jsxs)("div",{className:"font-thin text-sm  items-center  justify-center gap-1 cursor-default grid",children:[(0,p.jsxs)("label",{className:"flex items-center gap-1",children:[(0,p.jsx)("div",{style:{background:e.color},className:"h-[15px] w-[15px] rounded-full items-center  gap-1 "}),e.companyname]}),(0,p.jsxs)("label",{className:"text-[14px] flex font-thin",children:["Number of Students Enrolled: ",e.companyOJT]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)("label",{className:"text-[14px] flex font-thin",children:a?"Completed: ".concat(a[t].completed):"Loading"}),(0,p.jsx)("label",{className:"text-[14px] flex font-thin",children:a?"Incomplete: ".concat(a[t].incomplete):"Loading"})]})]},e.id)}))})})]})}),(0,p.jsxs)("div",{className:"p-10",children:[s&&(0,p.jsx)("div",{className:"flex  justify-between ",children:s.map((function(e,t){return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"  p-3 mt-2 rounded text-black md:w-[100%] w-[102%]",children:[(0,p.jsxs)("label",{className:"text-xl font-thin flex items-center gap-1",children:[(0,p.jsx)("span",{style:{background:e.color},className:"h-[15px] w-[15px] rounded-full items-center"}),e.companyname]}),(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Enrolled","Completed","Incomplete"]}],series:[{data:[e.companyOJT,a[t].completed,a[t].incomplete],color:[e.color]}],width:270,height:270})]})},e.id)}))}),(0,p.jsx)("div",{className:" p-3 rounded  md:w-[100%]  w-[99%] text-black justify-center flex ",children:(0,p.jsx)("label",{className:"font-thin text-lg text-center",children:"OVERALL COMPLETED AND INCOMPLETE IN EACH COURSE FOR THE TOP 3 MOST OJT ENROLLED AT THAT COMPANY"})}),s&&(0,p.jsx)("div",{className:" grid justify-between:w-[100%]",children:s.map((function(t,s){return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"  p-3 rounded w-[100%] text-black ",children:[(0,p.jsxs)("label",{className:"text-xl font-thin flex items-center gap-1",children:[(0,p.jsx)("span",{style:{background:t.color},className:"h-[15px] w-[15px] rounded-full items-center"}),t.companyname]}),(0,p.jsxs)("div",{className:"grid grid-cols-3 w-[100%] ",children:[(0,p.jsxs)("div",{children:["BSIT",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[a[s].BSITCom,a[s].BSITInCom],color:[t.color]}],width:250,height:230})]}),(0,p.jsxs)("div",{children:["BSTM",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[a[s].BSTMCom,a[s].BSTMInCom],color:[t.color]}],width:250,height:230})]}),(0,p.jsxs)("div",{children:["BSHM",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[a[s].BSHMCom,a[s].BSHMInCom],color:[t.color]}],width:250,height:230})]}),(0,p.jsxs)("div",{children:["BSAIS",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[a[s].BSAISCom,a[s].BSAISInCom],color:[t.color]}],width:250,height:230})]}),(0,p.jsxs)("div",{children:["BSCPE",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[a[s].BSCPECom,a[s].BSCPEInCom],color:[t.color]}],width:250,height:230})]}),(0,p.jsxs)("div",{children:["BSCS",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[a[s].BSCSCom,a[s].BSCSInCom],color:[t.color]}],width:250,height:230})]})]}),(0,p.jsx)("div",{className:"items-center flex font-light w-[100%]",children:e(t.companyOJT,a[s].completed,a[s].incomplete)})]})},t.id)}))})]})]}),(0,p.jsx)("div",{className:"h-[1px] bg-black w-[99%] mb-4"}),(0,p.jsx)("label",{className:"flex justify-center text-[12px]",children:"\xa9 2023 STI College. All Rights Reserved."})]})};return(0,p.jsxs)("div",{ref:n,className:"p-2",children:[(0,p.jsxs)("div",{className:"flex items-center  gap-2 ml-1",children:[(0,p.jsx)("img",{src:B,alt:"STI LOGO",className:" h-15 w-20 rounded-sm"}),(0,p.jsx)("label",{className:"font-bold text-[30px] font-sans text-[#0874B9]",children:"iMonitor"})]}),(0,p.jsx)("div",{className:"h-[1px] bg-black w-[99%] mt-4"}),(0,p.jsx)("div",{className:"p-3",children:(0,p.jsx)("label",{className:"flex justify-center text-[20px] text-center ",children:function(e){var t=e;return(0,p.jsxs)("p",{className:"font-thin",children:[t.toUpperCase()," ",(0,p.jsx)("em",{className:"font-semibold",children:"iMonitor"})]})}("THIS DATA CONSISTS OF THE DETAILED INFORMATION OF THE TOP 3 COMPANY GENERATED IN")})}),(0,p.jsx)("div",{className:"grid",children:r()})]})}var Z=function(e){var t,s=e.data,i=(0,c.useState)([]),o=(0,l.Z)(i,2),d=o[0],m=o[1],x=(0,c.useState)(!1),u=(0,l.Z)(x,2),h=u[0],f=u[1],b=(0,c.useState)([]),j=(0,l.Z)(b,2),N=j[0],v=j[1],w=(0,c.useState)(!1),y=(0,l.Z)(w,2),C=y[0],S=y[1],T=(0,c.useRef)(null),k=(0,c.useRef)(),B=function(e){T.current&&!T.current.contains(e.target)&&S(!1)};function Z(){return Z=(0,n.Z)((0,a.Z)().mark((function e(t){var s,n,l,c,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sort((function(e,t){return e.companyOJT<t.companyOJT?1:-1}));case 3:for(s=e.sent,n=["#efcc00","#6693F5","#0080FE"],l=[],c=0;c<3;c++)l=l.concat([{color:n[c],id:s[c].id,companyname:s[c].companyname,companyOJT:s[c].companyOJT}]);m(l),r=[],i=0;case 10:if(!(i<l.length)){e.next=19;break}return e.t0=r,e.next=14,P(l[i].companyname);case 14:e.t1=e.sent,r=e.t0.concat.call(e.t0,e.t1);case 16:i++,e.next=10;break;case 19:v(r),f(!0),e.next=25;break;case 23:e.prev=23,e.t2=e.catch(0);case 25:case"end":return e.stop()}}),e,null,[[0,23]])}))),Z.apply(this,arguments)}(0,c.useEffect)((function(){!function(e){Z.apply(this,arguments)}(s)}),[s]),(0,c.useEffect)((function(){return document.addEventListener("mousedown",B),g().init({duration:1e3}),function(){document.removeEventListener("mousedown",B)}}),[]);var P=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(s){var n,l,c,i,o,d,m,x,u,h,p,f,b,j,N,v;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.from("MasterListTable1").select("*",{count:"exact"}).match({companyname:s,status:"complete"});case 2:return n=e.sent,l=n.data,c=n.count,e.next=7,r.Z.from("MasterListTable1").select("*",{count:"exact"}).match({companyname:s,status:"incomplete"});case 7:if(i=e.sent,o=i.data,d=i.count,m=o,x=l,u=0,0,h=0,0,p=0,0,f=0,0,b=0,0,j=0,0,l)for(N=0;N<x.length;N++)"BSIT"===x[N].filterby&&u++,"BSHM"===x[N].filterby&&f++,"BSTM"===x[N].filterby&&h++,"BSCPE"===x[N].filterby&&b++,"BSAIS"===x[N].filterby&&p++,"BSCS"===x[N].filterby&&j++;for(v=0;v<m.length;v++)"BSIT"===m[v].filterby&&u++,"BSHM"===m[v].filterby&&f++,"BSTM"===m[v].filterby&&h++,"BSCPE"===m[v].filterby&&b++,"BSAIS"===m[v].filterby&&p++,"BSCS"===m[v].filterby&&j++;return t=[{companyname:s,completed:c,incomplete:d,BSITCom:u,BSITInCom:0,BSTMCom:h,BSTMInCom:0,BSAISCom:p,BSAISInCom:0,BSHMCom:f,BSHMInCom:0,BSCPECom:b,BSCPEInCom:0,BSCSCom:j,BSCSInCom:0}],e.abrupt("return",t);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t,s){var a=Math.round(t/e*100),n=Math.round(s/e*100);return(0,p.jsxs)("div",{className:"flex text-start gap-2 justify-center w-[100%]",children:[(0,p.jsxs)("div",{className:"md:flex grid gap-1 text-[15px] ",children:["The average number of student who completed their on-the-job training in this company is",(0,p.jsx)("div",{className:"text-green-500 font-bold  italic",children:"".concat(a>=-0?"".concat(a,"%"):"No Data")})]}),(0,p.jsxs)("div",{className:"md:flex grid gap-1 text-[15px] ",children:["The average number of student who didn't complete their on-the-job training in this",(0,p.jsx)("div",{className:"text-red-700 font-bold italic",children:"".concat(n>=-0?"".concat(n,"%"):"No Data")})]}),"."]})};return(0,p.jsx)("div",{ref:T,children:d?(0,p.jsx)("div",{children:d.length<2?(0,p.jsx)("label",{className:"text-white font-bold text-[20px]  flex justify-center place-content-center items-center mt-[10%]",children:"The analytics will show when there are three or more companies registered."}):(0,p.jsx)("div",{className:"mt-2  h-screen ",children:h?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"flex justify-end",children:(0,p.jsx)(M(),{trigger:function(){return(0,p.jsx)("button",{className:"flex gap-1 items-center p-0.5 px-2 rounded-md mt-1 text-white -mb-6",children:(0,p.jsx)(O.zR_,{className:"text-[20px] cursor-pointer"})})},content:function(){return k.current},documentTitle:"Test"})}),(0,p.jsx)("div",{className:"hidden",children:(0,p.jsx)(R,{data:s,analytics:d,avg:N,testRef:k})}),(0,p.jsx)("div",{className:" md:w-[100%]  w-[99%]   h-auto md:flex grid place-content-center items-center  inset-0 bg-[#6f97bcb3] text-black rounded-md shadow-md shadow-black",children:(0,p.jsxs)("div",{className:" flex items-center ",children:[(0,p.jsxs)("div",{className:"flex-col mb-2",children:[(0,p.jsx)("p",{className:"flex-col flex text-center font-bold text-lg text-white",children:d.length>=2&&"Top 3 Companies"}),(0,p.jsx)(I.PieChart,{data:d.map((function(e){return{title:e.companyname,value:e.companyOJT,color:e.color}})),className:" md:w-[200px] w-[150px] "})]}),(0,p.jsx)("div",{className:" ml-10 md:gap-10 gap-5 text-white justify-start md:flex grid items-center ",children:d.map((function(e,t){return(0,p.jsxs)("div",{className:"font-semibold text-sm  items-center  justify-center gap-1 cursor-default grid",children:[(0,p.jsxs)("label",{className:"flex items-center gap-1",children:[(0,p.jsx)("div",{style:{background:e.color},className:"h-[15px] w-[15px] rounded-full items-center  gap-1 "}),e.companyname]}),(0,p.jsxs)("label",{className:"text-[14px] flex font-thin",children:["Number of Students Enrolled: ",e.companyOJT]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)("label",{className:"text-[14px] flex font-thin",children:N?"Completed: ".concat(N[t].completed):"Loading"}),(0,p.jsx)("label",{className:"text-[14px] flex font-thin",children:N?"Incomplete: ".concat(N[t].incomplete):"Loading"})]})]},e.id)}))})]})}),C?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{onClick:function(){return S(!C)},className:"cursor-pointer bg-[#58abf8b3] hover:bg-[#48a7ff60]  p-1 mt-4 rounded shadow-black shadow-lg md:w-[100%]  w-[99%] text-white justify-center flex ",children:(0,p.jsx)("label",{className:"font-bold text-md  cursor-pointer",children:"HIDE INFORMATION"})}),h?(0,p.jsx)("div",{className:"md:flex grid justify-between ",children:d.map((function(e,t){return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:" bg-[#6f97bcb3] p-3 mt-4 rounded shadow-black shadow-lg text-white md:w-[100%] w-[102%]",children:[(0,p.jsxs)("label",{className:"text-xl font-bold flex items-center gap-1",children:[(0,p.jsx)("span",{style:{background:e.color},className:"h-[15px] w-[15px] rounded-full items-center"}),e.companyname]}),(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Enrolled","Completed","Incomplete"]}],series:[{data:[e.companyOJT,N[t].completed,N[t].incomplete],color:[e.color]}],width:"".concat(window.innerWidth<=768?440:370),height:340})]})},e.id)}))}):(0,p.jsx)("div",{className:"flex place-content-center items-center h-[300px] bg-[#6f97bcb3] mt-2 rounded-md shadow-black shadow-md",children:(0,p.jsx)(A.Z,{color:"#131f2a",speedMultiplier:.5})}),(0,p.jsx)("div",{className:"bg-[#6f97bcb3] p-3 mt-4 rounded shadow-black shadow-lg  md:w-[100%]  w-[99%] text-white justify-center flex ",children:(0,p.jsx)("label",{className:"font-thin text-lg",children:"OVERALL COMPLETED AND INCOMPLETE IN EACH COURSE FOR THE TOP 3 MOST OJT ENROLLED AT THAT COMPANY"})}),h?(0,p.jsx)("div",{className:" grid justify-between md:w-[100%]  w-[95%]",children:d.map((function(e,t){return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:" bg-[#6f97bcb3] p-3 mt-4 rounded shadow-black shadow-lg md:w-[100%] w-[105%] text-white ",children:[(0,p.jsxs)("label",{className:"text-xl font-bold flex items-center gap-1",children:[(0,p.jsx)("span",{style:{background:e.color},className:"h-[15px] w-[15px] rounded-full items-center"}),e.companyname]}),(0,p.jsxs)("div",{className:"grid md:grid-cols-6 grid-cols-2 md:w-[100%] ",children:[(0,p.jsxs)("div",{children:["BSIT",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[N[t].BSITCom,N[t].BSITInCom],color:[e.color]}],width:240,height:260})]}),(0,p.jsxs)("div",{children:["BSTM",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[N[t].BSTMCom,N[t].BSTMInCom],color:[e.color]}],width:240,height:260})]}),(0,p.jsxs)("div",{children:["BSHM",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[N[t].BSHMCom,N[t].BSHMInCom],color:[e.color]}],width:240,height:260})]}),(0,p.jsxs)("div",{children:["BSAIS",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[N[t].BSAISCom,N[t].BSAISInCom],color:[e.color]}],width:240,height:260})]}),(0,p.jsxs)("div",{children:["BSCPE",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[N[t].BSCPECom,N[t].BSCPEInCom],color:[e.color]}],width:240,height:260})]}),(0,p.jsxs)("div",{children:["BSCS",(0,p.jsx)(E.v,{xAxis:[{scaleType:"band",data:["Complete","Incomplete"]}],series:[{data:[N[t].BSCSCom,N[t].BSCSInCom],color:[e.color]}],width:240,height:260})]})]}),(0,p.jsx)("div",{className:"items-center flex font-light w-[100%]",children:L(e.companyOJT,N[t].completed,N[t].incomplete)})]})},e.id)}))}):(0,p.jsx)("div",{className:"flex place-content-center items-center h-[300px] bg-[#5885AF] bg-opacity-20 mt-2 rounded-md shadow-black shadow-md",children:(0,p.jsx)(A.Z,{color:"#131f2a",speedMultiplier:.5})}),(0,p.jsx)("div",{className:"h-[100px]"})]}):(0,p.jsx)("div",{onClick:function(){return S(!C)},className:"bg-[#4778a6b3] cursor-pointer hover:bg-[#48a7ff60] p-1 mt-4 rounded shadow-black shadow-lg  md:w-[100%]  w-[99%] text-white justify-center flex ",children:(0,p.jsx)("label",{className:"font-bold text-md cursor-pointer",children:"VIEW MORE INFORMATION"})})]}):(0,p.jsx)("div",{className:"flex place-content-center items-center h-[300px] bg-[#5885AF] bg-opacity-20 mt-2 rounded-md shadow-black shadow-md",children:(0,p.jsx)(A.Z,{color:"#131f2a",speedMultiplier:.5})})})}):(0,p.jsx)("div",{className:"flex place-content-center items-center h-[300px] bg-[#5885AF] bg-opacity-20 mt-2 rounded-md shadow-black shadow-md",children:(0,p.jsx)(A.Z,{color:"#131f2a",speedMultiplier:.5})})})},P=function(e){var t=e.Data,s=(0,c.useState)(null),i=(0,l.Z)(s,2),o=(i[0],i[1]),m=(0,c.useState)(null),x=(0,l.Z)(m,2),u=x[0],h=x[1],f=(0,c.useState)(""),b=(0,l.Z)(f,2),j=b[0],N=b[1],v=(0,c.useState)(0),S=(0,l.Z)(v,2),I=S[0],E=S[1],O=(0,c.useState)(!0),A=(0,l.Z)(O,2),k=A[0],M=A[1];(0,c.useEffect)((function(){B(),r.Z.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"CompanyTable"},(function(e){B()})).subscribe(),g().init({duration:1e3})}),[]);var B=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t,s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.from("CompanyTable").select("*",{count:"exact"});case 2:t=e.sent,s=t.data,n=t.count,t.error&&(o("Could not fetch the data please check your internet"),h(null)),E(n),h(s),o(null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=(0,c.useState)(0),P=(0,l.Z)(R,2),L=P[0],D=P[1],F=20*L,U=Math.ceil(I/20);return(0,p.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden h-screen w-[100%] ",children:[null===u?(0,p.jsx)(y.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:(0,p.jsx)(C.Z,{color:"inherit"})}):"",(0,p.jsx)("div",{className:"h-[100%] md:p-10 p-2",children:(0,p.jsxs)("div",{"data-aos":"fade-up","data-aos-duration":"300",className:"md:pt-[0%] pt-[10%]",children:[(0,p.jsx)("label",{className:"text-[30px] font-bold text-white",children:"COMPANY INFORMATION"}),(0,p.jsxs)("div",{className:"mt-1 w-full flex",children:[(0,p.jsxs)("button",{onClick:function(){return M(!0)},className:"".concat(k?"bg-[#80c2ff] text-black p-1 rounded-md flex items-center gap-1 mr-2 shadow-md shadow-black duration-300 ":"bg-[#5885AF] text-white p-1 rounded-md flex items-center gap-1 mr-2 hover:shadow-md hover:shadow-black hover:bg-[#80c2ff] hover:text-black"," "),children:[(0,p.jsx)(d.t6A,{})," Table"]}),(0,p.jsxs)("button",{onClick:function(){return M(!1)},className:"".concat(k?"bg-[#5885AF] text-white p-1 rounded-md flex items-center gap-1 hover:shadow-md hover:shadow-black hover:bg-[#80c2ff] hover:text-blacK":"bg-[#80c2ff] text-black p-1 rounded-md flex items-center gap-1 shadow-md shadow-black duration-300"," "),children:[(0,p.jsx)(d.hjb,{})," Analytics"]})]}),k?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"bg-slate-100 w-[100%] mt-5 rounded-full justify-center flex text-black",children:(0,p.jsxs)("div",{id:"searchbar",className:"flex w-[100%] ",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"h-[18px] w-10 mt-2.5 ml-2",children:(0,p.jsx)("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})}),(0,p.jsx)("input",{type:"search",placeholder:"Search",value:j,className:"cursor-text w-[100%]  h-[40px] rounded-full border pl-12  focus:pl-16 focus:pr-4",onChange:function(e){N(e.target.value)}})]})}),(0,p.jsxs)("div",{className:"bg-slate-300 rounded mt-2 w-[100%] h-[50px] justify-start grid grid-cols-3 items-center md:text-[15px] text-[10px] font-extrabold text-[#41729F] ",children:[(0,p.jsx)("div",{className:"md:ml-5 ml-3",children:"COMPANY"}),(0,p.jsx)("div",{className:"md:-ml-4 -ml-2",children:"COMPANY ADDRESS"}),(0,p.jsx)("div",{className:"md:ml-10 ml-1",children:"NUMBER OF STUDENTS"})]}),(0,p.jsx)("div",{"data-aos":"fade-up","data-aos-duration":"500",className:" mt-1  h-[300px] overflow-y-auto overflow-x-hidden",children:u&&u.length>0?(0,p.jsx)(p.Fragment,{children:j?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:" ",children:u.filter((function(e){try{if(""===j)return e;if(e.companyname.toLowerCase().includes(j.toLowerCase()))return e;if(e.companyaddress.toLowerCase().includes(j.toLowerCase()))return e}catch(t){}})).sort((function(e,t){return e.companyOJT<t.companyOJT?1:-1})).map((function(e){return(0,p.jsx)(w,{companyinfos:e},e.id)}))})}):(0,p.jsx)("div",{className:" ",children:u.slice(F,F+20).filter((function(e){try{if(""===j)return e;if(e.companyname.toLowerCase().includes(j.toLowerCase()))return e;if(e.companyaddress.toLowerCase().includes(j.toLowerCase()))return e}catch(t){}})).sort((function(e,t){return e.companyOJT<t.companyOJT?1:-1})).map((function(e){return(0,p.jsx)(w,{companyinfos:e,Data:t},e.id)}))})}):(0,p.jsx)("div",{className:"flex items-center justify-center place-content-center md:h-[90%] h-[80%]  ",children:(0,p.jsx)("label",{className:"font-bold text-[30px] text-white",children:"No Data"})})}),(0,p.jsxs)("div",{className:"md:mt-[20px] mt-[10px] text-white",children:[u&&u.length>0&&(0,p.jsx)(T(),{previousLabel:"Previous",nextLabel:"Next",pageCount:U,onPageChange:function(e){var t=e.selected;D(t)},containerClassName:"flex gap-2 justify-center flex items-center",previousLinkClassName:"bg-[#5885AF] p-1 rounded-md flex items-center",nextLinkClassName:"bg-[#5885AF] p-1 rounded-md flex items-center",disabledLinkClassName:"bg-[#5885AF] p-1 rounded-md",activeLinkClassName:"bg-[#5885AF] p-1 rounded-md"}),(0,p.jsx)("div",{className:"md:mb-[0%] mb-[30%]"})]})]}):(0,p.jsx)(Z,{data:u})]})})]})}},64561:function(e,t,s){var a=s(72426),n=s.n(a),l=(s(72791),s(80184));t.Z=function(e){var t=e.date,s=n()(t).format("LLL");return(0,l.jsx)("div",{className:"ml-1",children:s})}}}]);
//# sourceMappingURL=507.b5a1cbdf.chunk.js.map