"use strict";(self.webpackChunkimonitor=self.webpackChunkimonitor||[]).push([[436],{43436:function(e,t,s){s.r(t);var n=s(74165),a=s(15861),r=s(29439),i=s(72791),l=s(43621),c=s(96048),d=s.n(c),o=s(48273),u=s(80184);t.default=function(){var e=(0,i.useState)([]),t=(0,r.Z)(e,2),s=t[0],c=t[1],m=(0,i.useState)(),h=(0,r.Z)(m,2),f=h[0],p=h[1],x=(0,i.useState)(""),b=(0,r.Z)(x,2),v=b[0],g=b[1],N=(0,i.useState)(0),w=(0,r.Z)(N,2),j=w[0],y=w[1],C=50*j,k=Math.ceil(f/50);(0,i.useEffect)((function(){L(),l.Z.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"ActivityLog"},(function(e){L()})).subscribe()}),[v]);var L=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.from("ActivityLog").select("*",{count:"exact"});case 2:t=e.sent,s=t.data,a=t.count,c(s),p(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=e.split(".")[1];return e.includes(".")?t:e};return(0,u.jsxs)("div",{className:"bg-black bg-opacity-20 md:pt-[1%] pt-[7%]  h-screen md:text-base text-[14px] p-5",children:[(0,u.jsx)("p",{className:"font-bold text-[30px] font-sans mb-4 mt-4 text-white",children:"ACTIVITY LOG"}),(0,u.jsx)("div",{className:" h-[75%] w-[100%]  overflow-hidden  grid   shadow-lg shadow-black",children:(0,u.jsxs)("div",{className:"bg-slate-300 bg-opacity-60 w-[99.9%] rounded-md  overflow-y-hidden h-[100%] p-5",children:[(0,u.jsxs)("div",{className:"grid grid-cols-3 mb-3  w-fill bg-slate-300 p-2 rounded-md text-[#4D7C9A]",children:[(0,u.jsx)("p",{className:"font-bold ",children:"NAME"}),(0,u.jsx)("p",{className:"font-bold ",children:"ACTIVITY"}),(0,u.jsx)("p",{className:"font-bold ",children:"TIME"})]}),s?(0,u.jsxs)(u.Fragment,{children:[s.length<=0&&(0,u.jsx)("div",{className:"flex items-center justify-center place-content-center h-[100%] text-[30px] font-bold text-white",children:"No Data"}),(0,u.jsx)("div",{className:"overflow-y-auto overflow-hidden w-[100%] md:h-[80%] h-[76%] ",children:s.sort((function(e,t){return e.created_at<t.created_at?1:-1})).filter((function(e){try{if(""===v)return e;if(e.name.toLowerCase().includes(v.toLowerCase()))return e}catch(t){}})).slice(v?"":C,C+50).map((function(e){return(0,u.jsxs)("div",{className:"  grid grid-cols-3 mb-3 w-[100%] bg-slate-200 p-2 rounded-md hover:translate-x-4 hover:shadow-md hover:shadow-black duration-100 hover:p-4",children:[(0,u.jsx)("p",{className:"font-semibold font-sans cursor-default",children:e.name}),(0,u.jsx)("p",{className:"font-semibold font-sans cursor-default",children:Z(e.button)}),(0,u.jsx)("p",{className:"font-semibold font-sans cursor-default",children:e.time})]},e.id)}))}),(0,u.jsxs)("div",{className:"mt-[1%] w-[100%] justify-between flex",children:[(0,u.jsxs)("div",{className:"flex justify-center items-center  gap-2 ",children:[(0,u.jsx)("label",{className:"md:flex hidden ",children:"Filter By Name"}),(0,u.jsx)("input",{onChange:function(e){return g(e.target.value)},type:"text",className:"rounded-md p-1",placeholder:"Type Name"})]}),(0,u.jsx)(d(),{previousLabel:"Previous",nextLabel:"Next",pageCount:k,onPageChange:function(e){var t=e.selected;y(t)},containerClassName:"flex gap-2 justify-center flex items-center text-white cursor-default",previousLinkClassName:"bg-[#274472] p-1 rounded-md flex items-center",nextLinkClassName:"bg-[#274472] p-1 rounded-md flex items-center",disabledLinkClassName:" bg-[#274472] p-1 rounded-md",activeLinkClassName:" bg-[#274472] p-1 rounded-md"})]})]}):(0,u.jsx)("div",{className:"flex h-[100%] items-center place-content-center",children:(0,u.jsx)(o.gy,{height:"80",width:"80",color:"#0074B7",ariaLabel:"tail-spin-loading",radius:"0",wrapperStyle:{},wrapperClass:"",visible:!0})})]})})]})}}}]);
//# sourceMappingURL=436.c0ce5ef0.chunk.js.map