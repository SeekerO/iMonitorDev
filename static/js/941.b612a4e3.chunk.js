(self.webpackChunkimonitor=self.webpackChunkimonitor||[]).push([[941],{47503:function(e,t,s){"use strict";s.r(t);var a=s(74165),l=s(15861),r=s(29439),n=s(72791),i=s(43621),c=s(48273),o=s(67945),d=s.n(o),m=(s(24655),s(60807),s(80184));t.default=function(e){var t=e.studemail;(0,n.useEffect)((function(){f(),d().init({duration:1e3})}),[]);var s=(0,n.useState)(),o=(0,r.Z)(s,2),x=o[0],u=o[1],f=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.from("StudentInformation").select().eq("studemail",t).single();case 2:s=e.sent,(l=s.data)&&u(l);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=(0,n.useRef)(),h=(0,n.useState)(),b=(0,r.Z)(h,2),g=b[0],N=b[1],j=(0,n.useState)(),w=(0,r.Z)(j,2),v=w[0],y=w[1],S=(0,n.useState)(!1),C=(0,r.Z)(S,2),O=C[0],R=C[1],E=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t,s,r,n,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=g,s=v,N(),y(),r=window.localStorage.getItem("profile").split("/"),n=r[r.length-1],e.next=9,i.Z.storage.from("ProfilePic").remove(["".concat(x.studemail,"/").concat(n)]);case 9:return e.next=11,i.Z.storage.from("ProfilePic").upload(x.studemail+"/"+s,t);case 11:c=e.sent,c.data&&setTimeout((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.storage.from("ProfilePic").list(x.studemail+"/",{limit:1,offset:0});case 2:t=e.sent,s=t.data,t.error,s&&(l="https://ouraqybsyczzrrlbvenz.supabase.co/storage/v1/object/public/ProfilePic/".concat(x.studemail,"/").concat(v),window.localStorage.setItem("profile",l),R(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),5e3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"flex  place-content-center  h-screen w-[100%] ",children:(0,m.jsx)("div",{className:"h-[88%] w-[100%]  overflow-auto",children:x?(0,m.jsxs)("div",{className:"w-[100%]  flex flex-col items-center mt-[5%] text-white  ",children:[(0,m.jsxs)("div",{className:"  justify-center items-center flex flex-col ",children:[O?(0,m.jsx)(c.gy,{height:"80",width:"80",color:"#0074B7",ariaLabel:"tail-spin-loading",radius:"0",wrapperStyle:{},wrapperClass:"",visible:!0}):(0,m.jsxs)("div",{className:"group",children:[g?(0,m.jsx)("img",{className:"md:ml-0 ml-3 h-[170px] w-[170px] rounded-full shadow-lg shadow-gray-900 z-50",src:URL.createObjectURL(g)}):(0,m.jsx)("img",{className:"md:ml-0 ml-3 h-[170px] w-[170px] rounded-full shadow-lg shadow-gray-900 z-50",src:window.localStorage.getItem("profile")}),(0,m.jsx)("div",{onClick:function(){p.current.click()},className:"flex justify-center -mt-10  z-0 font-semibold group-hover:opacity-100 opacity-0 cursor-pointer text-white",children:"Change Profile"})]}),(0,m.jsx)("input",{ref:p,id:"Profile",type:"file",accept:"image/png, image/gif, image/jpeg",className:"hidden",onChange:function(e){if(void 0!==e.target.files[0]){var t=e.target.files[0];y(t.name),N(e.target.files[0])}}})]}),!O&&(0,m.jsx)(m.Fragment,{children:g&&(0,m.jsxs)("div",{className:"flex gap-4 mt-6 ",children:[(0,m.jsx)("a",{onClick:function(){return N()},className:"flex justify-center text-whitecursor-pointer bg-red-500 p-1 rounded-md cursor-pointer",children:"Cancel"}),(0,m.jsx)("a",{onClick:function(){return E()},className:"flex justify-center text-white bg-green-500 p-1 rounded-md cursor-pointer",children:"Upload"})]})}),(0,m.jsx)("label",{className:"mt-3  text-[30px] font-bold  flex",children:x.studname.toUpperCase()}),(0,m.jsxs)("label",{className:" mt-0.5  text-gray-200 text-xs font-extralight mb-5",children:["STUDENT SECTION ",x.studsection]}),(0,m.jsx)("div",{className:"bg-[#E7C01D] h-[2px] w-[95%] "}),(0,m.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-x-14 gap-y-4 w-[80%] ",children:[(0,m.jsx)("div",{className:"font-semibold  md:text-xl text-lg mt-[5%]",children:"STUDENT INFORMATION"}),(0,m.jsxs)("div",{className:"gap-2 mt-2 w-[100%] flex items-center",children:[(0,m.jsx)("label",{className:"text-[14px]  md:text-xl text-lg font-semibold flex items-center gap-2",children:"CURRENT STUDENT PROGRESS"}),(0,m.jsx)("div",{className:"h-[25px] w-[40%] bg-slate-200 rounded-md  cursor-default shadow-md shadow-gray-500",children:(0,m.jsx)("div",{className:"h-[25px] bg-[#78D0F4] rounded-l-md rounded-r-md ",style:{width:"".concat(x.studprogress/x.studmaxprogress*100,"%")},children:(0,m.jsxs)("div",{className:"".concat(x.studprogress>0?"md:pl-[60px] pl-[4px] p-1":"md:pl-[70px] pl-[10px] p-1"," whitespace-nowrap z-0 md:text-[15px] text-[9px] font-mono   font-semibold mr-3 text-black items-center "),children:[x.studprogress," / ",x.studmaxprogress]})})})]}),(0,m.jsx)("label",{className:" mt-4 md:text-md text-base font-semibold",children:x.studprogram}),(0,m.jsx)("label",{className:" mt-4 md:text-md text-base font-semibold",children:x.studemail}),(0,m.jsxs)("label",{className:"md:text-md text-base font-semibold",children:["OJT START: ",x.ojtstart]}),(0,m.jsxs)("label",{className:"  md:text-md text-base font-semibold",children:["OJT END: ",x.ojtend]}),(0,m.jsxs)("label",{className:" md:text-md text-base font-semibold",children:["REMARKS:"," ",(0,m.jsx)("p",{className:"text-base mt-1",children:x.studremarks})]})]}),(0,m.jsx)("div",{className:"font-semibold  md:text-3xl text-lg mt-[5%] mb-[5%]",children:"COMPANY INFORMATION"}),(0,m.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-x-20 gap-y-4 w-[80%]  items-center",children:[(0,m.jsxs)("label",{className:" mt-4 md:text-md text-base font-semibold",children:["COMPANY NAME:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.companyname})]}),(0,m.jsxs)("label",{className:" mt-4 md:text-md text-base font-semibold",children:["COMPANY ADDRESS:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.companyaddress})]}),(0,m.jsxs)("label",{className:" mt-4 md:text-md text-base font-semibold",children:["SUPERVISOR NAME:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.supervisorname})]}),(0,m.jsxs)("label",{className:" mt-4 md:text-lg text-base font-semibold",children:["SUPERVISOR CONTACT #:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.supervisorcontactnumber})]}),(0,m.jsxs)("label",{className:" mt-4 md:text-md text-base font-semibold",children:["SUPERVISOR OFFICER #:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.supervisorofficenumber})]}),(0,m.jsxs)("label",{className:" mt-4 md:text-md text-base font-semibold",children:["COMPANY DESIGNATION:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.companydesignation})]}),(0,m.jsxs)("label",{className:" mt-4 md:text-md text-base font-semibold mb-20",children:["COMPANY EMAIL:"," ",(0,m.jsx)("label",{className:"font-thin",children:x.companyemail})]})]})]}):(0,m.jsx)("div",{className:"flex flex-col items-center justify-center h-[100%]",children:(0,m.jsx)(c.gy,{height:"80",width:"80",color:"#0074B7",ariaLabel:"tail-spin-loading",radius:"0",wrapperStyle:{},wrapperClass:"",visible:!0})})})})})}},24654:function(){}}]);
//# sourceMappingURL=941.b612a4e3.chunk.js.map