{"version":3,"file":"static/js/941.b612a4e3.chunk.js","mappings":"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","sources":["components/StudentPages/Profile.jsx"],"sourcesContent":["import React from \"react\";\nimport supabase from \"../iMonitorDBconfig\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { TailSpin } from \"react-loader-spinner\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport { set } from \"react-hook-form\";\nimport { upload } from \"@testing-library/user-event/dist/upload\";\n\nconst Profile = ({ studemail }) => {\n  useEffect(() => {\n    fetchstudinfo();\n    AOS.init({ duration: 1000 });\n    // toHoursAndMinutes();\n  }, []);\n\n  const [studinfo, setStudInfo] = useState();\n\n  const fetchstudinfo = async () => {\n    const { data } = await supabase\n      .from(\"StudentInformation\")\n      .select()\n      .eq(\"studemail\", studemail)\n      .single();\n\n    if (data) {\n      setStudInfo(data);\n    }\n  };\n  const fileInputRef = useRef();\n  const [newProfile, setNewProfile] = useState();\n  const [filename, setFileName] = useState();\n  const [uploading, setUploading] = useState(false);\n  const ChangeProfile = () => {\n    fileInputRef.current.click();\n  };\n\n  const handleFileChange = (event) => {\n    if (event.target.files[0] !== undefined) {\n      const selectedFile = event.target.files[0];\n      setFileName(selectedFile.name);\n      setNewProfile(event.target.files[0]);\n    }\n  };\n\n  const UploadProfile = async () => {\n    setUploading(true);\n    var filepath = newProfile;\n    var filenamepath = filename;\n    setNewProfile();\n    setFileName();\n    \n    const parts = window.localStorage.getItem(\"profile\").split(\"/\");\n    const lastPart = parts[parts.length - 1];\n\n    await supabase.storage\n      .from(\"ProfilePic\")\n      .remove([`${studinfo.studemail}/${lastPart}`]);\n\n    const { data: uploaded } = await supabase.storage\n      .from(\"ProfilePic\")\n      .upload(studinfo.studemail + \"/\" + filenamepath, filepath);\n\n    if (uploaded) {\n      setTimeout(() => {\n        const fetchPic = async () => {\n          const { data: profilePic, error } = await supabase.storage\n            .from(\"ProfilePic\")\n            .list(studinfo.studemail + \"/\", { limit: 1, offset: 0 });\n\n          if (profilePic) {\n            var profileURL = `https://ouraqybsyczzrrlbvenz.supabase.co/storage/v1/object/public/ProfilePic/${studinfo.studemail}/${filename}`;\n            window.localStorage.setItem(\"profile\", profileURL);\n            setUploading(false);\n          }\n        };\n        fetchPic();\n      }, 5000);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex  place-content-center  h-screen w-[100%] \">\n        <div className=\"h-[88%] w-[100%]  overflow-auto\">\n          {studinfo ? (\n            <div className=\"w-[100%]  flex flex-col items-center mt-[5%] text-white  \">\n              <div className=\"  justify-center items-center flex flex-col \">\n                {!uploading ? (\n                  <div className=\"group\">\n                    {newProfile ? (\n                      <img\n                        className=\"md:ml-0 ml-3 h-[170px] w-[170px] rounded-full shadow-lg shadow-gray-900 z-50\"\n                        src={URL.createObjectURL(newProfile)}\n                      ></img>\n                    ) : (\n                      <img\n                        className=\"md:ml-0 ml-3 h-[170px] w-[170px] rounded-full shadow-lg shadow-gray-900 z-50\"\n                        src={window.localStorage.getItem(\"profile\")}\n                      ></img>\n                    )}\n                    <div\n                      onClick={() => ChangeProfile()}\n                      className=\"flex justify-center -mt-10  z-0 font-semibold group-hover:opacity-100 opacity-0 cursor-pointer text-white\"\n                    >\n                      Change Profile\n                    </div>\n                  </div>\n                ) : (\n                  <TailSpin\n                    height=\"80\"\n                    width=\"80\"\n                    color=\"#0074B7\"\n                    ariaLabel=\"tail-spin-loading\"\n                    radius=\"0\"\n                    wrapperStyle={{}}\n                    wrapperClass=\"\"\n                    visible={true}\n                  />\n                )}\n\n                <input\n                  ref={fileInputRef}\n                  id=\"Profile\"\n                  type=\"file\"\n                  accept=\"image/png, image/gif, image/jpeg\"\n                  className=\"hidden\"\n                  onChange={handleFileChange}\n                ></input>\n              </div>\n\n              {!uploading && (\n                <>\n                  {newProfile && (\n                    <div className=\"flex gap-4 mt-6 \">\n                      <a\n                        onClick={() => setNewProfile()}\n                        className=\"flex justify-center text-whitecursor-pointer bg-red-500 p-1 rounded-md cursor-pointer\"\n                      >\n                        Cancel\n                      </a>\n                      <a\n                        onClick={() => UploadProfile()}\n                        className=\"flex justify-center text-white bg-green-500 p-1 rounded-md cursor-pointer\"\n                      >\n                        Upload\n                      </a>\n                    </div>\n                  )}\n                </>\n              )}\n\n              <label className=\"mt-3  text-[30px] font-bold  flex\">\n                {studinfo.studname.toUpperCase()}\n              </label>\n              <label className=\" mt-0.5  text-gray-200 text-xs font-extralight mb-5\">\n                STUDENT SECTION {studinfo.studsection}\n              </label>\n              <div className=\"bg-[#E7C01D] h-[2px] w-[95%] \" />\n\n              <div className=\"grid md:grid-cols-2 grid-cols-1 gap-x-14 gap-y-4 w-[80%] \">\n                <div className=\"font-semibold  md:text-xl text-lg mt-[5%]\">\n                  STUDENT INFORMATION\n                </div>\n                <div className=\"gap-2 mt-2 w-[100%] flex items-center\">\n                  <label className=\"text-[14px]  md:text-xl text-lg font-semibold flex items-center gap-2\">\n                    CURRENT STUDENT PROGRESS\n                  </label>\n                  <div className=\"h-[25px] w-[40%] bg-slate-200 rounded-md  cursor-default shadow-md shadow-gray-500\">\n                    <div\n                      className=\"h-[25px] bg-[#78D0F4] rounded-l-md rounded-r-md \"\n                      style={{\n                        width: `${\n                          (studinfo.studprogress / studinfo.studmaxprogress) *\n                          100\n                        }%`,\n                      }}\n                    >\n                      <div\n                        className={`${\n                          studinfo.studprogress > 0\n                            ? \"md:pl-[60px] pl-[4px] p-1\"\n                            : \"md:pl-[70px] pl-[10px] p-1\"\n                        } whitespace-nowrap z-0 md:text-[15px] text-[9px] font-mono   font-semibold mr-3 text-black items-center `}\n                      >\n                        {studinfo.studprogress} / {studinfo.studmaxprogress}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  {studinfo.studprogram}\n                </label>\n\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  {studinfo.studemail}\n                </label>\n\n                <label className=\"md:text-md text-base font-semibold\">\n                  OJT START: {studinfo.ojtstart}\n                </label>\n                <label className=\"  md:text-md text-base font-semibold\">\n                  OJT END: {studinfo.ojtend}\n                </label>\n                <label className=\" md:text-md text-base font-semibold\">\n                  REMARKS:{\" \"}\n                  <p className=\"text-base mt-1\">{studinfo.studremarks}</p>\n                </label>\n              </div>\n              <div className=\"font-semibold  md:text-3xl text-lg mt-[5%] mb-[5%]\">\n                COMPANY INFORMATION\n              </div>\n              <div className=\"grid md:grid-cols-2 grid-cols-1 gap-x-20 gap-y-4 w-[80%]  items-center\">\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  COMPANY NAME:{\" \"}\n                  <label className=\"font-thin\">{studinfo.companyname}</label>\n                </label>\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  COMPANY ADDRESS:{\" \"}\n                  <label className=\"font-thin\">{studinfo.companyaddress}</label>\n                </label>\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  SUPERVISOR NAME:{\" \"}\n                  <label className=\"font-thin\">{studinfo.supervisorname}</label>\n                </label>\n                <label className=\" mt-4 md:text-lg text-base font-semibold\">\n                  SUPERVISOR CONTACT #:{\" \"}\n                  <label className=\"font-thin\">\n                    {studinfo.supervisorcontactnumber}\n                  </label>\n                </label>\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  SUPERVISOR OFFICER #:{\" \"}\n                  <label className=\"font-thin\">\n                    {studinfo.supervisorofficenumber}\n                  </label>\n                </label>\n                <label className=\" mt-4 md:text-md text-base font-semibold\">\n                  COMPANY DESIGNATION:{\" \"}\n                  <label className=\"font-thin\">\n                    {studinfo.companydesignation}\n                  </label>\n                </label>\n                <label className=\" mt-4 md:text-md text-base font-semibold mb-20\">\n                  COMPANY EMAIL:{\" \"}\n                  <label className=\"font-thin\">{studinfo.companyemail}</label>\n                </label>\n              </div>\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center justify-center h-[100%]\">\n              <TailSpin\n                height=\"80\"\n                width=\"80\"\n                color=\"#0074B7\"\n                ariaLabel=\"tail-spin-loading\"\n                radius=\"0\"\n                wrapperStyle={{}}\n                wrapperClass=\"\"\n                visible={true}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"names":["_ref","studemail","useEffect","fetchstudinfo","AOS","duration","_useState","useState","_useState2","_slicedToArray","studinfo","setStudInfo","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$supabase$from$","data","wrap","_context","prev","next","supabase","from","select","eq","single","sent","stop","apply","arguments","fileInputRef","useRef","_useState3","_useState4","newProfile","setNewProfile","_useState5","_useState6","filename","setFileName","_useState7","_useState8","uploading","setUploading","UploadProfile","_ref3","_callee3","filepath","filenamepath","parts","lastPart","_yield$supabase$stora","_context3","window","localStorage","getItem","split","length","storage","remove","concat","upload","setTimeout","fetchPic","_ref4","_callee2","_yield$supabase$stora2","profilePic","profileURL","_context2","list","limit","offset","error","setItem","_jsx","children","className","_jsxs","TailSpin","height","width","color","ariaLabel","radius","wrapperStyle","wrapperClass","visible","src","URL","createObjectURL","onClick","current","click","ref","id","type","accept","onChange","event","undefined","target","files","selectedFile","name","_Fragment","studname","toUpperCase","studsection","style","studprogress","studmaxprogress","studprogram","ojtstart","ojtend","studremarks","companyname","companyaddress","supervisorname","supervisorcontactnumber","supervisorofficenumber","companydesignation","companyemail"],"sourceRoot":""}